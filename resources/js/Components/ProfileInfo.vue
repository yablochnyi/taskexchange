<template>
  <div class="overflow-x-auto md:mx-0 flex flex-row gap-4">
    <Link :href="route('profile', user.username)" @mouseenter="activeIcon = 1" @mouseleave="activeIcon = 0" class="bg-white w-full min-w-max flex flex-row gap-4 items-center rounded text-sm py-2 px-5">
      <div>
        <svg width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="70" height="70" rx="8" fill="#D9D9D9"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M35.0001 52.3334C24.8749 52.3334 16.6667 44.1252 16.6667 34C16.6667 23.8748 24.8749 15.6667 35.0001 15.6667C45.1253 15.6667 53.3334 23.8748 53.3334 34C53.3334 44.1252 45.1253 52.3334 35.0001 52.3334ZM47.3326 42.5411C49.0144 40.1172 50.0001 37.1737 50.0001 34C50.0001 25.7157 43.2844 19 35.0001 19C26.7158 19 20.0001 25.7157 20.0001 34C20.0001 37.1737 20.9857 40.1172 22.6676 42.5411C24.5428 40.0642 28.9486 39.0006 34.995 39C31.2655 38.9976 28.3334 36.3764 28.3334 30.6667C28.3334 26.9263 30.9652 24 35.0001 24C39.0237 24 41.6667 27.2027 41.6667 31C41.6667 36.4634 38.6998 38.9975 35.0055 39C41.0517 39.0007 45.4574 40.0642 47.3326 42.5411ZM44.9412 45.233C44.4534 43.4789 40.9491 42.3334 35.0001 42.3334C29.0511 42.3334 25.5468 43.4789 25.0589 45.233C27.7056 47.577 31.1866 49 35.0001 49C38.8135 49 42.2946 47.577 44.9412 45.233ZM31.6667 30.6667C31.6667 34.4488 33.0304 35.6667 35.0001 35.6667C36.9629 35.6667 38.3334 34.4973 38.3334 31C38.3334 28.9174 37.0262 27.3334 35.0001 27.3334C32.8896 27.3334 31.6667 28.6931 31.6667 30.6667Z" fill="#2E363E"/>
        </svg>
      </div>
      <div class="py-3">
        {{ user.first_name }} {{ user.last_name }}
        <br>
        <span class="text-gray-500 font-medium">id:{{ user.id }}</span>
      </div>
    </Link>
    <Link :href="route('payment')" @mouseenter="activeIcon = 2" @mouseleave="activeIcon = 0" class="bg-white w-full min-w-max flex flex-row gap-4 items-center rounded text-sm py-2 px-5">
      <div>
        <svg v-if="activeIcon === 2" width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="70" height="70" rx="8" fill="#94C091"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M19.6971 21H50.3031C51.9767 21 53.3334 22.4924 53.3334 24.3333V44.3333C53.3334 46.1743 51.9767 47.6667 50.3031 47.6667H19.6971C18.0235 47.6667 16.6667 46.1743 16.6667 44.3333V24.3333C16.6667 22.4924 18.0235 21 19.6971 21ZM20.0001 24.3333V44.3333H50.0001V24.3333H20.0001ZM23.3334 37.6667V41H26.6667V37.6667H23.3334ZM28.3334 41V37.6667H33.3334V41H28.3334ZM43.3334 37.6667V41H46.6667V37.6667H43.3334ZM38.3334 41V37.6667H41.6667V41H38.3334ZM28.3334 29.3333H23.3334V34.3333H28.3334V29.3333Z" fill="#DFECDE"/>
        </svg>
        <svg v-else width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="70" height="70" rx="8" fill="#DFECDE"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M19.6971 19H50.3031C51.9767 19 53.3334 20.4924 53.3334 22.3333V42.3333C53.3334 44.1743 51.9767 45.6667 50.3031 45.6667H19.6971C18.0235 45.6667 16.6667 44.1743 16.6667 42.3333V22.3333C16.6667 20.4924 18.0235 19 19.6971 19ZM20.0001 22.3333V42.3333H50.0001V22.3333H20.0001ZM23.3334 35.6667V39H26.6667V35.6667H23.3334ZM28.3334 39V35.6667H33.3334V39H28.3334ZM43.3334 35.6667V39H46.6667V35.6667H43.3334ZM38.3334 39V35.6667H41.6667V39H38.3334ZM28.3334 27.3333H23.3334V32.3333H28.3334V27.3333Z" fill="#94C091"/>
        </svg>
      </div>
      <div class="py-3">
        Баланс
        <br>
        <span class="text-gray-500 font-medium">{{user.balance}} руб.</span>
      </div>
    </Link>
    <Link v-if="user.role_id === 1" :href="route('orders.performer')" @mouseenter="activeIcon = 3" @mouseleave="activeIcon = 0" class="bg-white w-full min-w-max flex flex-row gap-4 items-center rounded text-sm py-2 px-5">
      <div>
        <svg v-if="activeIcon === 3" width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="70" height="70" rx="8" fill="#3A538C"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M25.8333 33.3333C21.6911 33.3333 18.3333 29.9755 18.3333 25.8333C18.3333 21.6912 21.6911 18.3333 25.8333 18.3333C29.9754 18.3333 33.3333 21.6912 33.3333 25.8333C33.3333 29.9755 29.9754 33.3333 25.8333 33.3333ZM18.3333 44.1667C18.3333 48.3088 21.6911 51.6667 25.8333 51.6667C29.9754 51.6667 33.3333 48.3088 33.3333 44.1667C33.3333 40.0245 29.9754 36.6667 25.8333 36.6667C21.6911 36.6667 18.3333 40.0245 18.3333 44.1667ZM36.6666 44.1667C36.6666 48.3088 40.0244 51.6667 44.1666 51.6667C48.3087 51.6667 51.6666 48.3088 51.6666 44.1667C51.6666 40.0245 48.3087 36.6667 44.1666 36.6667C40.0244 36.6667 36.6666 40.0245 36.6666 44.1667ZM36.6666 25.8333C36.6666 29.9755 40.0244 33.3333 44.1666 33.3333C48.3087 33.3333 51.6666 29.9755 51.6666 25.8333C51.6666 21.6912 48.3087 18.3333 44.1666 18.3333C40.0244 18.3333 36.6666 21.6912 36.6666 25.8333ZM44.1666 30C46.4678 30 48.3333 28.1345 48.3333 25.8333C48.3333 23.5321 46.4678 21.6667 44.1666 21.6667C41.8654 21.6667 39.9999 23.5321 39.9999 25.8333C39.9999 28.1345 41.8654 30 44.1666 30ZM29.9999 25.8333C29.9999 28.1345 28.1344 30 25.8333 30C23.5321 30 21.6666 28.1345 21.6666 25.8333C21.6666 23.5321 23.5321 21.6667 25.8333 21.6667C28.1344 21.6667 29.9999 23.5321 29.9999 25.8333ZM44.1666 48.3333C46.4678 48.3333 48.3333 46.4678 48.3333 44.1667C48.3333 41.8655 46.4678 40 44.1666 40C41.8654 40 39.9999 41.8655 39.9999 44.1667C39.9999 46.4678 41.8654 48.3333 44.1666 48.3333ZM29.9999 44.1667C29.9999 46.4678 28.1344 48.3333 25.8333 48.3333C23.5321 48.3333 21.6666 46.4678 21.6666 44.1667C21.6666 41.8655 23.5321 40 25.8333 40C28.1344 40 29.9999 41.8655 29.9999 44.1667Z" fill="#DEE4EC"/>
        </svg>

        <svg v-else width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="70" height="70" rx="8" fill="#DEE4EC"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M25.8333 33.3333C21.6911 33.3333 18.3333 29.9754 18.3333 25.8333C18.3333 21.6912 21.6911 18.3333 25.8333 18.3333C29.9754 18.3333 33.3333 21.6912 33.3333 25.8333C33.3333 29.9754 29.9754 33.3333 25.8333 33.3333ZM18.3333 44.1666C18.3333 48.3088 21.6911 51.6666 25.8333 51.6666C29.9754 51.6666 33.3333 48.3088 33.3333 44.1666C33.3333 40.0245 29.9754 36.6666 25.8333 36.6666C21.6911 36.6666 18.3333 40.0245 18.3333 44.1666ZM36.6666 44.1666C36.6666 48.3088 40.0244 51.6666 44.1666 51.6666C48.3087 51.6666 51.6666 48.3088 51.6666 44.1666C51.6666 40.0245 48.3087 36.6666 44.1666 36.6666C40.0244 36.6666 36.6666 40.0245 36.6666 44.1666ZM36.6666 25.8333C36.6666 29.9754 40.0244 33.3333 44.1666 33.3333C48.3087 33.3333 51.6666 29.9754 51.6666 25.8333C51.6666 21.6912 48.3087 18.3333 44.1666 18.3333C40.0244 18.3333 36.6666 21.6912 36.6666 25.8333ZM44.1666 30C46.4678 30 48.3333 28.1345 48.3333 25.8333C48.3333 23.5321 46.4678 21.6666 44.1666 21.6666C41.8654 21.6666 39.9999 23.5321 39.9999 25.8333C39.9999 28.1345 41.8654 30 44.1666 30ZM29.9999 25.8333C29.9999 28.1345 28.1344 30 25.8333 30C23.5321 30 21.6666 28.1345 21.6666 25.8333C21.6666 23.5321 23.5321 21.6666 25.8333 21.6666C28.1344 21.6666 29.9999 23.5321 29.9999 25.8333ZM44.1666 48.3333C46.4678 48.3333 48.3333 46.4678 48.3333 44.1666C48.3333 41.8655 46.4678 40 44.1666 40C41.8654 40 39.9999 41.8655 39.9999 44.1666C39.9999 46.4678 41.8654 48.3333 44.1666 48.3333ZM29.9999 44.1666C29.9999 46.4678 28.1344 48.3333 25.8333 48.3333C23.5321 48.3333 21.6666 46.4678 21.6666 44.1666C21.6666 41.8655 23.5321 40 25.8333 40C28.1344 40 29.9999 41.8655 29.9999 44.1666Z" fill="#3A538C"/>
        </svg>
      </div>
      <div class="py-3">
        Задачи
        <br>
        <span class="text-gray-500 font-medium">{{$props.quantityTasks}} {{ declOfNum($props.quantityTasks , ['активная', 'активных', 'активных']) }}</span>
      </div>
    </Link>
      <Link v-if="user.role_id === 2" :href="route('my.task')" @mouseenter="activeIcon = 3" @mouseleave="activeIcon = 0" class="bg-white w-full min-w-max flex flex-row gap-4 items-center rounded text-sm py-2 px-5">
          <div>
              <svg v-if="activeIcon === 3" width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect width="70" height="70" rx="8" fill="#3A538C"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M25.8333 33.3333C21.6911 33.3333 18.3333 29.9755 18.3333 25.8333C18.3333 21.6912 21.6911 18.3333 25.8333 18.3333C29.9754 18.3333 33.3333 21.6912 33.3333 25.8333C33.3333 29.9755 29.9754 33.3333 25.8333 33.3333ZM18.3333 44.1667C18.3333 48.3088 21.6911 51.6667 25.8333 51.6667C29.9754 51.6667 33.3333 48.3088 33.3333 44.1667C33.3333 40.0245 29.9754 36.6667 25.8333 36.6667C21.6911 36.6667 18.3333 40.0245 18.3333 44.1667ZM36.6666 44.1667C36.6666 48.3088 40.0244 51.6667 44.1666 51.6667C48.3087 51.6667 51.6666 48.3088 51.6666 44.1667C51.6666 40.0245 48.3087 36.6667 44.1666 36.6667C40.0244 36.6667 36.6666 40.0245 36.6666 44.1667ZM36.6666 25.8333C36.6666 29.9755 40.0244 33.3333 44.1666 33.3333C48.3087 33.3333 51.6666 29.9755 51.6666 25.8333C51.6666 21.6912 48.3087 18.3333 44.1666 18.3333C40.0244 18.3333 36.6666 21.6912 36.6666 25.8333ZM44.1666 30C46.4678 30 48.3333 28.1345 48.3333 25.8333C48.3333 23.5321 46.4678 21.6667 44.1666 21.6667C41.8654 21.6667 39.9999 23.5321 39.9999 25.8333C39.9999 28.1345 41.8654 30 44.1666 30ZM29.9999 25.8333C29.9999 28.1345 28.1344 30 25.8333 30C23.5321 30 21.6666 28.1345 21.6666 25.8333C21.6666 23.5321 23.5321 21.6667 25.8333 21.6667C28.1344 21.6667 29.9999 23.5321 29.9999 25.8333ZM44.1666 48.3333C46.4678 48.3333 48.3333 46.4678 48.3333 44.1667C48.3333 41.8655 46.4678 40 44.1666 40C41.8654 40 39.9999 41.8655 39.9999 44.1667C39.9999 46.4678 41.8654 48.3333 44.1666 48.3333ZM29.9999 44.1667C29.9999 46.4678 28.1344 48.3333 25.8333 48.3333C23.5321 48.3333 21.6666 46.4678 21.6666 44.1667C21.6666 41.8655 23.5321 40 25.8333 40C28.1344 40 29.9999 41.8655 29.9999 44.1667Z" fill="#DEE4EC"/>
              </svg>

              <svg v-else width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect width="70" height="70" rx="8" fill="#DEE4EC"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M25.8333 33.3333C21.6911 33.3333 18.3333 29.9754 18.3333 25.8333C18.3333 21.6912 21.6911 18.3333 25.8333 18.3333C29.9754 18.3333 33.3333 21.6912 33.3333 25.8333C33.3333 29.9754 29.9754 33.3333 25.8333 33.3333ZM18.3333 44.1666C18.3333 48.3088 21.6911 51.6666 25.8333 51.6666C29.9754 51.6666 33.3333 48.3088 33.3333 44.1666C33.3333 40.0245 29.9754 36.6666 25.8333 36.6666C21.6911 36.6666 18.3333 40.0245 18.3333 44.1666ZM36.6666 44.1666C36.6666 48.3088 40.0244 51.6666 44.1666 51.6666C48.3087 51.6666 51.6666 48.3088 51.6666 44.1666C51.6666 40.0245 48.3087 36.6666 44.1666 36.6666C40.0244 36.6666 36.6666 40.0245 36.6666 44.1666ZM36.6666 25.8333C36.6666 29.9754 40.0244 33.3333 44.1666 33.3333C48.3087 33.3333 51.6666 29.9754 51.6666 25.8333C51.6666 21.6912 48.3087 18.3333 44.1666 18.3333C40.0244 18.3333 36.6666 21.6912 36.6666 25.8333ZM44.1666 30C46.4678 30 48.3333 28.1345 48.3333 25.8333C48.3333 23.5321 46.4678 21.6666 44.1666 21.6666C41.8654 21.6666 39.9999 23.5321 39.9999 25.8333C39.9999 28.1345 41.8654 30 44.1666 30ZM29.9999 25.8333C29.9999 28.1345 28.1344 30 25.8333 30C23.5321 30 21.6666 28.1345 21.6666 25.8333C21.6666 23.5321 23.5321 21.6666 25.8333 21.6666C28.1344 21.6666 29.9999 23.5321 29.9999 25.8333ZM44.1666 48.3333C46.4678 48.3333 48.3333 46.4678 48.3333 44.1666C48.3333 41.8655 46.4678 40 44.1666 40C41.8654 40 39.9999 41.8655 39.9999 44.1666C39.9999 46.4678 41.8654 48.3333 44.1666 48.3333ZM29.9999 44.1666C29.9999 46.4678 28.1344 48.3333 25.8333 48.3333C23.5321 48.3333 21.6666 46.4678 21.6666 44.1666C21.6666 41.8655 23.5321 40 25.8333 40C28.1344 40 29.9999 41.8655 29.9999 44.1666Z" fill="#3A538C"/>
              </svg>
          </div>
          <div class="py-3">
              Задачи
              <br>
              <span class="text-gray-500 font-medium" > активная</span>
          </div>
      </Link>
    <div @mouseenter="activeIcon = 4" @mouseleave="activeIcon = 0" class="bg-white w-full min-w-max flex flex-row gap-4 items-center rounded text-sm py-2 px-5">
      <div>
        <svg v-if="activeIcon === 4" width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="70" height="70" rx="8" fill="#6A69FB"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M21.5322 40H29.9999V53.0846L48.4676 30H39.9999V16.9154L21.5322 40ZM33.3333 36.6667H28.4676L36.6666 26.418V33.3333H41.5322L33.3333 43.582V36.6667Z" fill="#E0DEEC"/>
        </svg>
        <svg v-else width="50" height="50" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="70" height="70" rx="8" fill="#E0DEEC"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M21.5322 40H29.9999V53.0846L48.4676 30H39.9999V16.9153L21.5322 40ZM33.3333 36.6666H28.4676L36.6666 26.4179V33.3333H41.5322L33.3333 43.582V36.6666Z" fill="#6A69FB"/>
        </svg>
      </div>
      <div class="py-3">
        Активность на сайте
        <br>
        <span class="text-gray-500 font-medium">{{ activity }} {{ declOfNum(activity, ['день', 'дня', 'дней']) }}</span>
      </div>
    </div>
  </div>
</template>

<script>
import {Link} from '@inertiajs/inertia-vue3';
export default {
    components: {
        Link
    },
    props: {
        user: Object,
        quantityTasks: Number
    },
  data() {
    return {
      activeIcon: 0
    }
  },
    methods: {
        declOfNum(value, text_forms) {
            value = Math.abs(value) % 100;
            let n1 = value % 10;
            if (value > 10 && value < 20) { return text_forms[2]; }
            if (n1 > 1 && n1 < 5) { return text_forms[1]; }
            if (n1 === 1) { return text_forms[0]; }

            return text_forms;
        }
    },
    mounted() {
        this.declOfNum()
    },
    computed: {
    activity() {
      let secondsFromUserCreating = (new Date().getTime() - new Date(new Date(this.$props.user.created_at).toDateString()).getTime()) / 1000

      return Math.round(secondsFromUserCreating / 60 / 60 / 24)
    }
  }
}
</script>
